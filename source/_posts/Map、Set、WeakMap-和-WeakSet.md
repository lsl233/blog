---
title: Map、Set、WeakMap 和 WeakSet
date: 2019-07-02 11:16:48
tags:
---

* Map —— 是一个键值对集合


和普通 Object 的区别：


  * 对象可以作为键。
  * 迭代顺序是插入顺序。
  * 附加方便的方法，有 size 属性。


* Set —— 是一个包含不重复值的集合。


  * 和 array 不同，set 不允许元素重新排序。
  * 保持插入的顺序。


* WeakMap —— Map 的一个变体，仅允许对象作为键，并且当对象由于其他原因不可引用的时候将其删除。


  * 它不支持整体的操作：没有 size 属性，没有 clear() 方法，没有迭代器。


* WeakSet —— 是 Set 的一个变体，仅存储对象，并且当对象由于其他原因不可引用的时候将其删除。



  * 同样不支持 size/clear() 和迭代器。


WeakMap 和 WeakSet 被用作主要对象存储的次要数据结构补充。一旦对象从存储移除，那么存在于 WeakMap/WeakSet 的数据将会被自动清除。
