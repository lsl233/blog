---
title: git 学习笔记
date: 2016-06-25 21:43:21
tags: git
---
## 介绍
git分2个数据库（Repository）**远程数据库**和**本地数据库**，他们都用于记录文件或目录状态，存储着内容修改的历史记录。
<!-- more -->
* 远程数据库: 配有专用的服务器，为了多人共享而建立的数据库。
* 本地数据库: 为了方便用户个人使用，在自己的机器上配置的数据库。
不同类别的修改 (如：Bug修复和功能添加) 要尽量分开提交，以方便以后从历史记录里查找特定的修改内容。

查看其他人提交的修改内容或自己的历史记录的时候，提交信息是需要用到的重要资料。所以请用心填写修改内容的提交信息，以方便别人理解。
以下是Git的标准注解：
> 第1行：提交修改内容的摘要
> 第2行：空行
> 第3行以后：修改的理由

以这种格式填写提交信息。

Git鼓励你使用分支完成某个任务，合并后再删掉分支，这和直接在master分支上工作效果是一样的，但过程更安全。

## 命令介绍
#### 提交
每一次提交都会有个"HEAD". HEAD 是当前提交记录的符号名称 -- 其实就是你正在其基础进行工作的提交记录。
HEAD 总是指向最近一次提交记录，表现为当前工作树。大多数修改工作树的 Git 命令都开始于改变 HEAD 指向。
HEAD 通常指向分支名（比如 bugFix）。你提交时，改变了 bugFix 的状态，这一变化通过 HEAD 变得可见。
```
git commit  // 提交
```
<img src="http://7xv9xo.com1.z0.glb.clouddn.com/commit.gif" class="full-image" />
Git 仓库中的一次提交（commit）记录目录下所有文件的快照。感觉像是大量的复制和粘贴，但 Git 做的不只这么简单！
Git 希望提交记录尽可能地轻量，所以每次进行提交时，它不会简单地复制整个目录。条件允许的情况下，Git 会把提交压缩成从代码库的一个版本到下一个版本的变化合集，也叫“增量（delta）”。
每提交一个新版本，实际上Git就会把它们自动串成一条时间线

```
git log
```
显示<b>当前从最近到最远</b>的提交日志（如果版本回退，就看不见之前记录）
返回: commit是版本号
参数: --pretty=oneline, 只看版本号

```
git reflog
```
显示所有的提交日志记录（版本回退，也可以看到之前的记录）
```
git reset --hard <版本>
```
回退到指定版本
参数: HEAD^ 上一个版本， HEAD^^ 上上个版本， HEAD~100 上100个版本
      也可以直接输入版本号
      
#### 分支
可以让我们新建一个分支，在其上开发新功能，然后合并回主线。
```
git branch
```
查看本地分支， 参数: -a 查看远程分支。 在命令中，当前分支名前会有‘＊’
```
git branch <分支名>  
```
git 的分支创建只是简单地指向某个提交纪录——仅此而已， 创建分支没有储存或内存上的开销。
参数: -d 删除分支

```
git checkout <分支名>
```
切换分支
参数: -b 创建并切换分支
```
git checkout -- <文件名>
```
```
git merge <分支名>
```
合并指定分支到当前分支
返回: Fast-forward 这次合并是“快进模式”，也就是直接把master指向dev的当前提交，所以合并速度非常快。




#### config配置
--global 作用域为全局
```
git config --list
```
查看当前项目配置列表

```
git config <xxx> <value>
```
设置配置信息

#### 远程仓库

```
git remote
```
查看远程主机， -v: 查看原称长度网站

```
git remote show <主机名>
```
查看主机详细信息
```
git remote add <主机名> <网址>
```
添加远程主机。
```
git remote rm <主机名>
```
删除远程主机。
```
git remote rename <原主机名> <新主机名>
```
远程主机的改名。


