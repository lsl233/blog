---
title: JavaScript 基础-原型链
date: 2017-07-11 16:10:37
tags: 
  - JavaScript
  - 原型链
  - 基础
---
在ECMA-262中把属性定义为："无序属性的集合，其属性可以包含基本值、对象或者函数"。
<!-- more -->
### 创建对象
`JavaScript`中有2种方式创建对象，即`Object`构造函数和对象字面量。
```JavaScript
var person1 = new Object();
person.name = '233',
person.age = 18
person.say = function () {
  alert(this.name + this.age);
};
var person2 = {
  name: '233',
  age: 18,
  say: function () {
    alert(this.name + this.age);
  }
}
```
### 工厂模式
当需要很多`person`对象的时候，就会产生大量重复代码，这时候我们就需要工厂模式，这种模式抽象了具体创建对象的过程。
```JavaScript
function createPerson(name, age) {
  var obj = new Object();
  obj.name = name;
  obj.age = age;
  obj.say = function () {
    alert(this.name + this.age);
  }
  return obj;
}
var person1 = createPerson('li', 18);
var person2 = createPerson('shi', 20);
console.log(person1.constructor === Object, person1.constructor === Object);	// true, true
console.log(person2 instanceof Object, person2 instanceof Object);	//true, true
```
工厂模式虽然解决了创建多个相似对象的问题，但是没有解决对象识别的问题，所有对象都指向Object
### 构造函数模式
实例对象的`constructor`属性，指向构造函数，从而解决了对象识别问题。
```javascript
function Person(name, age) {
  this.name = name;
  this.age = age;
  this.say = function () {
    alert(this.name + this.age);
  }
  this.fn = function () {
    console.log('this is fn');
  }
}
Person.prototype.year = function () {
  console.log('year', 2017)
}
var person3 = new Person('a', 21);
var person4 = new Person('b', 22);
console.log(person3.constructor === Person, person4.constructor === Person);	// true, true,
console.log(person3 instanceof Person, person4 instanceof Person);	// true, true,
console.log(person3.year === person4.year, person3.fn === person4.fn);	// false false
```

### 原型模式



### 数据属性
数据属性很少用到，
一个对象就是一个属性集合，并拥有一个独立的prototype（原型）对象。这个prototype可以是一个对象或者null。原型对象也是简单的对象并且可以拥有它们自己的原型。如果一个原型对象的原型是一个非null的引用，那么以此类推，这就叫作_原型链_。

创建对象时都会隐式添加一个`__proto__`属性， 这个属性是原型对象的引用
```JavaScript
var foo = {
  x: 10,
  y: 20
};
console.log(foo.__proto__);
```